% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_all_time_series_per_realization.R
\name{plot_all_time_series_per_realization}
\alias{plot_all_time_series_per_realization}
\title{Plot SSB, Fbar, and Catch time series by realization}
\usage{
plot_all_time_series_per_realization(
  mods,
  main.dir,
  sub.dir,
  width = 10,
  height = 7,
  dpi = 300,
  col.opt = "D",
  new_model_names = NULL,
  pdf_name = "All_TS_by_realization.pdf",
  realizations_to_plot = NULL
)
}
\arguments{
\item{mods}{A list of MSE results, either:
\itemize{
  \item a simple list of models for a single realization
        (\code{list(Mod1, Mod2, ...)}), or
  \item a list of realizations, where each realization is a list of models
        (\code{list(real1 = list(Mod1, Mod2, ...), real2 = list(...), ...)}).
}
Each model is expected to contain an \code{$om} component with:
\code{$om$years}, \code{$om$rep$SSB}, \code{$om$rep$Fbar},
and \code{$om$rep$pred_catch}, as well as
\code{$om$input$data$n_fleets} and \code{$om$input$data$n_regions}.}

\item{main.dir}{Character path to the main output directory.}

\item{sub.dir}{Character folder name inside \code{main.dir} where the PDF
will be written. The directory is created if it does not exist.}

\item{width}{Numeric, width of each PDF page in inches (default: \code{10}).}

\item{height}{Numeric, height of each PDF page in inches (default: \code{7}).}

\item{dpi}{Resolution hint (dots per inch). Included for interface
consistency with other plotting functions; not directly used by the
\code{\link[grDevices]{pdf}} device.}

\item{col.opt}{Character string passed to \code{scale_color_viridis_d(option = ...)}
to control the viridis palette option (default: \code{"D"}).}

\item{new_model_names}{Optional character vector of custom model names.
If provided, must have length equal to the number of models in each
realization. These labels replace \code{"Model1"}, \code{"Model2"}, etc.}

\item{pdf_name}{Name of the output PDF file (default:
\code{"All_TS_by_realization.pdf"}).}

\item{realizations_to_plot}{Optional integer vector of realization indices
to include. If \code{NULL}, all realizations are plotted
(\code{seq_len(n_realizations)}).}
}
\value{
Invisibly returns \code{NULL}. The main side effect is the creation of a
multi-page PDF file at:
\code{file.path(main.dir, sub.dir, pdf_name)}.
}
\description{
Create time-series line plots of operating model SSB, global Fbar, and Catch
for each realization in an MSE run, overlaid across estimation models.  
Plots are written to a single multi-page PDF, with three pages per realization:
\enumerate{
  \item SSB time series,
  \item global Fbar time series, and
  \item Catch time series.
}
}
\details{
The function works for both single- and multi-realization objects:
\itemize{
  \item If \code{mods} is a simple list of models (single realization),
        it is internally wrapped as a one-element list.
  \item If \code{mods} is a list of realizations, each realization is
        assumed to be a list of models with an \code{$om} component.
}


The function first detects whether \code{mods} represents a single or
multiple realizations using:
\preformatted{
is.nsim <- is.list(mods[[1]]) && !is.null(mods[[1]][[1]]$om)
}
If \code{is.nsim} is \code{FALSE}, a single realization is assumed and
\code{mods} is wrapped as \code{list(mods)} for consistent indexing.

For each realization \code{r} in \code{realizations_to_plot}:
\itemize{
  \item SSB: \code{mods[[r]][[m]]$om$rep$SSB} is extracted for each model
        \code{m}, then plotted as lines over \code{Year}.
  \item Fbar: the global Fbar column is assumed to be the last column of
        \code{om$rep$Fbar}, i.e.
        \code{n_fleets + n_regions + 1}, where
        \code{n_fleets <- om$input$data$n_fleets[1]} and
        \code{n_regions <- om$input$data$n_regions[1]}.
  \item Catch: \code{mods[[r]][[m]]$om$rep$pred_catch} (typically multiple
        columns for fleets/regions) is pivoted to long format and plotted
        by \code{Label} (column name) and \code{Model}.
}

Each of the three plots (SSB, Fbar, Catch) is printed as a separate page in
the PDF for that realization.
}
\examples{
\dontrun{
# Suppose `mods` is a list of realizations produced by whamMSE:

# 1) Plot all realizations with default model names:
plot_all_time_series_per_realization(
  mods      = mods,
  main.dir  = "Results",
  sub.dir   = "Diagnostics"
)

# 2) Plot only realizations 1 and 3 with custom model names:
plot_all_time_series_per_realization(
  mods                 = mods,
  main.dir             = "Results",
  sub.dir              = "Diagnostics",
  new_model_names      = c("Equal", "FleetCatch", "IndexEqual"),
  realizations_to_plot = c(1, 3)
)
}
}
\seealso{
\code{\link{plot_NAA_tile_by_realization}} for NAA deviation tiles by
realization, and other MSE summary plotting functions in this package.
}
